{"version":3,"sources":["js/main.js"],"names":["$","circle","result","modal","prize","spinner","link","confetti","results","addClass","css","document","on","event","target","closest","length","body","fadeOut","stopPropagation","show","hide","rTime","Math","floor","random","setTimeout","angle","getRotationDegree","elem","matrix","values","split","a","b","round","atan2","PI","console","log","text","removeClass","fadeIn"],"mappings":";AAAAA,EAAE,WACMC,IAOKC,EAPLD,EAASD,EAAE,gBACXG,EAAQH,EAAE,UACVI,EAAQJ,EAAE,gBACVK,EAAUL,EAAE,iBACZM,EAAON,EAAE,eACTO,EAAWP,EAAE,mBACbQ,EAAU,CAAC,cAAe,WAAY,aAAc,aAG1DP,EAAOQ,SAAS,SAASC,IAAI,qBAAsB,UAEnDV,EAAEW,UAAUC,GAAG,QAAS,SAASC,GAC3Bb,EAAEa,EAAMC,QAAQC,QAAQf,EAAE,mBAAmBgB,SACjDf,EAAOS,IAAI,YAAa,WACxBV,EAAEW,SAASM,MAAMP,IAAI,WAAY,IACjCP,EAAMe,UACNL,EAAMM,qBAGRb,EAAKM,GAAG,YAAa,WAAQL,EAASa,SACtCd,EAAKM,GAAG,WAAY,WAAQL,EAASc,SAErCrB,EAAE,iBAAiBY,GAAG,QAAS,WACvBU,IAAAA,EAAQC,KAAKC,MAAsB,KAAhBD,KAAKE,UAAmB,IACR,WAArCxB,EAAOS,IAAI,wBACbL,EAAQI,SAAS,wBACjBR,EAAOS,IAAI,qBAAsB,WACzBgB,WAAW,WACjBzB,EAAOS,IAAI,qBAAsB,UAC3BiB,IAAAA,EAiBHC,SAAkBC,GACnBC,IACFH,EADEG,EAASD,EAAKnB,IAAI,aAGpBoB,GAAW,SAAXA,EAAmB,CACfC,IAAAA,EAASD,EAAOE,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAClDC,EAAIF,EAAO,GACXG,EAAIH,EAAO,GACjBJ,EAAQJ,KAAKY,MAAMZ,KAAKa,MAAMF,EAAGD,IAAM,IAAIV,KAAKc,UAC3CV,EAAQ,EAEXA,EAAQ,IAAGA,GAAS,KAEjBA,OAAAA,EA9BWC,CAAkB3B,GAChCqC,QAAQC,IAAIZ,GACqBzB,EAA7ByB,GAAS,IAAMA,GAAS,IAAcnB,EAAQ,GACzCmB,EAAQ,KAAOA,EAAQ,IAAcnB,EAAQ,GAC7CmB,GAAS,KAAOA,EAAQ,IAAcnB,EAAQ,GACzCA,EAAQ,GAEtBJ,EAAMoC,KAAKtC,GACXG,EAAQoC,YAAY,wBACpBf,WAAW,WACT1B,EAAEW,SAASM,MAAMP,IAAI,WAAY,UACjCP,EAAMuC,UACL,MACFpB","file":"main.fb6bbcaf.js","sourceRoot":"..","sourcesContent":["$(function () {\n  const circle = $('.Spin-Circle');\n  const modal = $('.Modal');\n  const prize = $('.Modal-Prize');\n  const spinner = $('.Spin-Spinner');\n  const link = $('.Modal-Link');\n  const confetti = $('.Modal-Confetti');\n  const results = ['1250$ Bonus', '25 Spins', '100$ Bonus', '155 Spins'];\n  let timer, result;\n\n  circle.addClass('anime').css('animationPlayState', 'paused');\n\n  $(document).on('click', function(event) {\n    if ($(event.target).closest($('.Modal-Content')).length) return;\n    circle.css('transform', 'initial');\n    $(document.body).css('overflow', '');\n    modal.fadeOut();\n    event.stopPropagation();\n  });\n\n  link.on('mouseover', () => { confetti.show(); });\n  link.on('mouseout', () => { confetti.hide(); });\n\n  $('.Spin-Spinner').on('click', function () {\n    const rTime = Math.floor(Math.random() * 5001) + 1000;\n    if (circle.css('animationPlayState') === 'paused') {\n      spinner.addClass('Spin-Spinner--active');\n      circle.css('animationPlayState', 'running');\n      timer = setTimeout(function () {\n        circle.css('animationPlayState', 'paused');\n        const angle = getRotationDegree(circle);\n        console.log(angle);\n        if (angle >= 45 && angle <= 135) result = results[1];\n        else if (angle > 135 && angle < 225) result = results[2];\n        else if (angle >= 225 && angle < 314) result = results[3];\n        else result = results[0];\n\n        prize.text(result);\n        spinner.removeClass('Spin-Spinner--active');\n        setTimeout(() => {\n          $(document.body).css('overflow', 'hidden');\n          modal.fadeIn();\n        }, 1000);\n      }, rTime);\n    }\n  });\n\n  function getRotationDegree(elem) {\n    const matrix = elem.css('transform');\n    let angle;\n\n    if (matrix !== 'none') {\n      const values = matrix.split('(')[1].split(')')[0].split(',');\n      const a = values[0];\n      const b = values[1];\n      angle = Math.round(Math.atan2(b, a) * (180/Math.PI));\n    } else angle = 0;\n\n    if (angle < 0) angle += 360;\n\n    return angle;\n  }\n});\n"]}